---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "launchdarkly_feature_flag Resource - launchdarkly"
subcategory: ""
description: |-
  Provides a LaunchDarkly feature flag resource.
  This resource allows you to create and manage feature flags within your LaunchDarkly organization.
  -> Note: This resource is for global-level feature flag configuration. Unexpected behavior may result if your environment-level configurations are not also managed from Terraform.
---

# launchdarkly_feature_flag (Resource)

Provides a LaunchDarkly feature flag resource.

This resource allows you to create and manage feature flags within your LaunchDarkly organization.

-> **Note:** This resource is for global-level feature flag configuration. Unexpected behavior may result if your environment-level configurations are not also managed from Terraform.

## Example Usage

```terraform
resource "launchdarkly_feature_flag" "building_materials" {
  project_key = launchdarkly_project.example.key
  key         = "building-materials"
  name        = "Building materials"
  description = "this is a multivariate flag with string variations."

  variation_type = "string"
  variations {
    value       = "straw"
    name        = "Straw"
    description = "Watch out for wind."
  }
  variations {
    value       = "sticks"
    name        = "Sticks"
    description = "Sturdier than straw"
  }
  variations {
    value       = "bricks"
    name        = "Bricks"
    description = "The strongest variation"
  }

  client_side_availability {
    using_environment_id = false
    using_mobile_key     = true
  }

  defaults {
    on_variation  = 2
    off_variation = 0
  }

  tags = [
    "example",
    "terraform",
    "multivariate",
    "building-materials",
  ]
}

resource "launchdarkly_feature_flag" "json_example" {
  project_key = "example-project"
  key         = "json-example"
  name        = "JSON example flag"

  variation_type = "json"
  variations {
    name  = "Single foo"
    value = jsonencode({ "foo" : "bar" })
  }
  variations {
    name  = "Multiple foos"
    value = jsonencode({ "foos" : ["bar1", "bar2"] })
  }

  defaults {
    on_variation  = 1
    off_variation = 0
  }
}

# Example: Feature flag with view associations
# This approach is ideal for modular Terraform where each flag is managed in its own file
resource "launchdarkly_feature_flag" "checkout_flow" {
  project_key = "example-project"
  key         = "checkout-flow-redesign"
  name        = "Checkout Flow Redesign"
  description = "New checkout experience with improved UX"

  variation_type = "boolean"

  # Link this flag to specific views
  # The flag will appear in both the "payments-team" and "frontend-team" views
  view_keys = [
    "payments-team",
    "frontend-team"
  ]

  tags = ["checkout", "payments", "frontend"]
}

# Example: Flag managed in a module that can specify its own views
# This enables a modular structure where each team/domain can manage their flags
# without needing to coordinate with a central view_links resource
resource "launchdarkly_feature_flag" "mobile_app_feature" {
  project_key = "example-project"
  key         = "mobile-push-notifications"
  name        = "Mobile Push Notifications"

  variation_type = "boolean"

  # Each flag can independently specify which views it belongs to
  view_keys = ["mobile-team"]

  tags = ["mobile", "notifications"]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `key` (String) The unique feature flag key that references the flag in your application code. A change in this field will force the destruction of the existing resource and the creation of a new one.
- `name` (String) The human-readable name of the feature flag.
- `project_key` (String) The feature flag's project key. A change in this field will force the destruction of the existing resource and the creation of a new one.
- `variation_type` (String) The feature flag's variation type: `boolean`, `string`, `number` or `json`. A change in this field will force the destruction of the existing resource and the creation of a new one.

### Optional

- `archived` (Boolean) Specifies whether the flag is archived or not. Note that you cannot create a new flag that is archived, but can update a flag to be archived.
- `client_side_availability` (Block List) (see [below for nested schema](#nestedblock--client_side_availability))
- `custom_properties` (Block Set, Max: 64) List of nested blocks describing the feature flag's [custom properties](https://docs.launchdarkly.com/home/connecting/custom-properties) (see [below for nested schema](#nestedblock--custom_properties))
- `defaults` (Block List, Max: 1) A block containing the indices of the variations to be used as the default on and off variations in all new environments. Flag configurations in existing environments will not be changed nor updated if the configuration block is removed. (see [below for nested schema](#nestedblock--defaults))
- `description` (String) The feature flag's description.
- `include_in_snippet` (Boolean, Deprecated) Specifies whether this flag should be made available to the client-side JavaScript SDK using the client-side Id. This value gets its default from your project configuration if not set. `include_in_snippet` is now deprecated. Please migrate to `client_side_availability.using_environment_id` to maintain future compatibility.
- `maintainer_id` (String) The feature flag maintainer's 24 character alphanumeric team member ID. `maintainer_team_key` cannot be set if `maintainer_id` is set. If neither is set, it will automatically be or stay set to the member ID associated with the API key used by your LaunchDarkly Terraform provider or the most recently-set maintainer.
- `maintainer_team_key` (String) The key of the associated team that maintains this feature flag. `maintainer_id` cannot be set if `maintainer_team_key` is set
- `tags` (Set of String) Tags associated with your resource.
- `temporary` (Boolean) Specifies whether the flag is a temporary flag.
- `variations` (Block List) An array of possible variations for the flag (see [below for nested schema](#nestedblock--variations))
- `view_keys` (Set of String) A set of view keys to link this flag to. This is an alternative to using the `launchdarkly_view_links` resource for managing view associations. When set, this flag will be linked to the specified views. Note: Using both `view_keys` on the flag and `launchdarkly_view_links` to manage the same flag may cause conflicts.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--client_side_availability"></a>
### Nested Schema for `client_side_availability`

Optional:

- `using_environment_id` (Boolean) Whether this flag is available to SDKs using the client-side ID.
- `using_mobile_key` (Boolean) Whether this flag is available to SDKs using a mobile key.


<a id="nestedblock--custom_properties"></a>
### Nested Schema for `custom_properties`

Required:

- `key` (String) The unique custom property key.
- `name` (String) The name of the custom property.
- `value` (List of String) The list of custom property value strings.


<a id="nestedblock--defaults"></a>
### Nested Schema for `defaults`

Required:

- `off_variation` (Number) The index of the variation the flag will default to in all new environments when off.
- `on_variation` (Number) The index of the variation the flag will default to in all new environments when on.


<a id="nestedblock--variations"></a>
### Nested Schema for `variations`

Required:

- `value` (String) The variation value. The value's type must correspond to the `variation_type` argument. For example: `variation_type = "boolean"` accepts only `true` or `false`. The `number` variation type accepts both floats and ints, but please note that any trailing zeroes on floats will be trimmed (i.e. `1.1` and `1.100` will both be converted to `1.1`).

If you wish to define an empty string variation, you must still define the value field on the variations block like so:

```terraform
variations {
  value = ""
}
```

-> **Note:** Terraform manages `variations` as an ordered array and identifies them by index. This means that if you change the order of your `variations` block, you may end up destroying and recreating those variations. Additionally, if you delete variations that have targets that have been attached outside of Terraform, those targets may be incorrectly reassigned to a different variation.

Optional:

- `description` (String) The variation's description.
- `name` (String) The name of the variation.

## Import

Import is supported using the following syntax:

```shell
# Import a feature flag using the feature flag's ID in the format `project_key/flag_key`.
terraform import launchdarkly_feature_flag.building_materials example-project/building-materials
```
