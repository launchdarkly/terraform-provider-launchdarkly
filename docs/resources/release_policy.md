---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "launchdarkly_release_policy Resource - launchdarkly"
subcategory: ""
description: |-
  Provides a LaunchDarkly release policy resource. This resource is still in beta.
  This resource allows you to create and manage release policies within your LaunchDarkly organization.
  Learn more about release policies here https://launchdarkly.com/docs/home/releases/release-policies, and read our API docs here https://launchdarkly.com/docs/api/release-policies-beta/.
---

# launchdarkly_release_policy (Resource)

Provides a LaunchDarkly release policy resource. This resource is still in beta.

This resource allows you to create and manage release policies within your LaunchDarkly organization.

Learn more about [release policies here](https://launchdarkly.com/docs/home/releases/release-policies), and read our [API docs here](https://launchdarkly.com/docs/api/release-policies-beta/).

## Example Usage

```terraform
resource "launchdarkly_release_policy" "guarded_example" {
  project_key    = "example-project"
  key            = "production-guarded"
  name           = "Production Guarded Release"
  release_method = "guarded-release"

  scope {
    environment_keys = ["production", "staging"]
  }

  guarded_release_config {
    rollback_on_regression = true
    min_sample_size        = 100

    stages {
      allocation      = 50000
      duration_millis = 60000
    }
    stages {
      allocation      = 100000
      duration_millis = 0
    }
  }
}

resource "launchdarkly_release_policy" "progressive_example" {
  project_key    = "example-project"
  key            = "staging-progressive"
  name           = "Staging Progressive Release"
  release_method = "progressive-release"

  progressive_release_config {
    stages {
      allocation      = 25000
      duration_millis = 60000
    }
    stages {
      allocation      = 50000
      duration_millis = 120000
    }
    stages {
      allocation      = 100000
      duration_millis = 0
    }
  }
}

# To import an existing release policy, use:
# terraform import launchdarkly_release_policy.guarded_example example-project/production-guarded
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `key` (String) The human-readable key of the release policy. A change in this field will force the destruction of the existing resource and the creation of a new one.
- `name` (String) The name of the release policy. Maximum length is 256 characters.
- `project_key` (String) The project key. A change in this field will force the destruction of the existing resource and the creation of a new one.
- `release_method` (String) The release method for the release policy. Must be either 'guarded-release' or 'progressive-release'.

### Optional

- `guarded_release_config` (Block List, Max: 1) Configuration for guarded release. (see [below for nested schema](#nestedblock--guarded_release_config))
- `progressive_release_config` (Block List, Max: 1) Configuration for progressive release. (see [below for nested schema](#nestedblock--progressive_release_config))
- `scope` (Block List, Max: 1) The scope configuration for the release policy. (see [below for nested schema](#nestedblock--scope))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--guarded_release_config"></a>
### Nested Schema for `guarded_release_config`

Required:

- `rollback_on_regression` (Boolean) Whether to automatically rollback on regression.

Optional:

- `min_sample_size` (Number) The minimum sample size for the release policy.
- `stages` (Block List) The stages for the guarded release. (see [below for nested schema](#nestedblock--guarded_release_config--stages))

<a id="nestedblock--guarded_release_config--stages"></a>
### Nested Schema for `guarded_release_config.stages`

Required:

- `allocation` (Number) The allocation for this stage (in thousandths, e.g. 25000 = 25%).
- `duration_millis` (Number) The duration in milliseconds for this stage.


<a id="nestedblock--progressive_release_config"></a>
### Nested Schema for `progressive_release_config`

Optional:

- `stages` (Block List) The stages for the progressive release. (see [below for nested schema](#nestedblock--progressive_release_config--stages))

<a id="nestedblock--progressive_release_config--stages"></a>
### Nested Schema for `progressive_release_config.stages`

Required:

- `allocation` (Number) The allocation for this stage (in thousandths, e.g. 25000 = 25%).
- `duration_millis` (Number) The duration in milliseconds for this stage.


<a id="nestedblock--scope"></a>
### Nested Schema for `scope`

Optional:

- `environment_keys` (List of String) The environment keys for environments the release policy will be applied to.
